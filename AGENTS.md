# Repository Guidelines

## プロジェクト構成とモジュール配置
本リポジトリは Next.js の App Router を採用しています。画面ルートは `src/app` 以下にあり、`(site)` グループがマーケティング向けページや動的ルートをまとめます。共通レイアウトや UI は `src/components`、ドメイン固有のロジック（例: 制作実績）や API 呼び出しは `src/features` に配置します。再利用性の高いユーティリティは `src/utils`、型定義は `src/types`、microCMS 連携コードは `src/lib` にまとめます。グローバルスタイルや Tailwind レイヤーは `src/styles`、ドキュメントや補助資料は `docs` に配置してください。

## ビルド・テスト・開発コマンド
- `npm install` — 依存関係をインストールします（環境構築時に実行）。
- `npm run dev` — 開発サーバーを `http://localhost:3000` で起動します。`.env.local` を用意してから実行してください。
- `npm run build` — 本番ビルドと型チェックを行います。
- `npm run start` — ビルド済み成果物をローカルでホストし、スモークテストを行います。
- `npm run lint` — `next/core-web-vitals` ベースの ESLint を実行し、警告を解消してからレビュー依頼してください。

## コーディングスタイルと命名規約
TypeScript + JSX を前提とし、`tsconfig.json` で定義された `@/` エイリアスを利用して絶対パスでインポートします。インデントは 2 スペース、TSX 内の文字列は単一引用符を推奨します。React コンポーネント・ページ・型エイリアスは `PascalCase`、関数や変数は `camelCase`、ルートセグメントやディレクトリは `kebab-case` を用います。機能固有のフックやヘルパーは同一フォルダにまとめ、広く使うもののみ再エクスポートしてください。スタイルは Tailwind ユーティリティを優先し、カスタムトークンは `tailwind.config.ts` で定義します。

## テストガイドライン
現時点で自動テストは未整備のため、Lint とブラウザでの手動確認が基本です。重要なロジックを追加する際は `src/**/__tests__` もしくは同階層に `.test.ts` を作成し、PR でセットアップ手順を共有してください。`microcms-js-sdk` のレスポンスをモックして、オフラインでもデータ取得ロジックを検証できるようにします。マージ前に `npm run build` が成功することを確認してください。

## コミットとプルリクエストの指針
コミットメッセージは `type: 要約` 形式（例: `feat: ...`, `refactor: ...`）を踏襲し、命令形で簡潔にまとめます。日本語・英語どちらでも構いません。Pull Request ではユーザー影響、microCMS のスキーマ変更や必要なコンテンツ、UI 更新時のスクリーンショット／URL を明記してください。新しい環境変数やマイグレーション手順がある場合は必ず記載し、レビュワーが再現しやすいようにします。

## microCMS と設定管理
`.env.local` に `MICROCMS_SERVICE_DOMAIN`、`MICROCMS_API_KEY`、`NEXT_PUBLIC_SITE_URL` を定義し、秘密情報はコミットしないでください。microCMS のコンテンツモデルや初期データを更新した際は、PR で変更点と反映手順を共有し、CMS とコードの整合性を保ちます。
